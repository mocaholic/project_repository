
<!-- 
/********************************************************************
* @설명			:	생애재무관리 > 저축시뮬레이션
*********************************************************************
* 번호	작업자		작업일			변경내용
*--------------------------------------------------------------------
* 1		이승찬		2020-11-13		최초작성
*********************************************************************/ 
-->

<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<meta name="format-detection" content="telephone=no">
	<title>신한은행</title>
	<link rel="stylesheet" type="text/css" href="../../style/shinhan.css">
	<link rel="stylesheet" type="text/css" href="../../style/my_assets.css">
	<script src="../../script/include/library/jquery-1.12.4.min.js"></script>
	<script src="../../script/include/library/ui.js"></script>
	<script src="../../script/include/library/ui_myassets.js"></script> <!-- MY자산 고도화 ui 스크립트 추가 -->
</head>
<body>
<!-- wrap -->
<div id="wrap">
	<!-- container -->
	<section id="container">
		<!-- header -->
		<header id="headerWrap">
			<div id="header">
				<div class="lSec">
					<a href="javascript:void(0);" class="btnBefore"><span class="iconTy01">이전</span></a>
				</div>
				<h1 class="tit">저축계획 시뮬레이션</h1>
				<div class="rSec">
					<a href="javascript:void(0);" class="btnTotal"><span class="iconTy02">전체메뉴</span></a>
				</div>
			</div>
		</header>
		<!-- // header -->
		
		<!-- contentsWrap -->
		<div id="contentsWrap" class="myAssets"> <!-- .myAssets -->
			<!-- contents -->
			<div class="contents">

				<div class="savingsSimWrap">
					<div class="chartArea">
						<h2 class="mainTit">현재 저축금액은<br /> <em>800,000</em>원이에요</h2>
						<div class="graphBox">
							<div style="padding:91px 10px; background:rgba(0,0,0,0.5); text-align:center;">그래프</div>
							<span class="unitAxisY" style="position:absolute; left:0; bottom:0;"><i>4,000</i></span>
							<span class="unitAxisX" style="position:absolute; left:50px; bottom:0;">2026년</span>
						</div>
						<div class="graphLegend">
							<a href="javascript:void(0);" class="btnLink">
								<em class="point"><span class="blind">그래프 노란색 점:</span></em>
								<span class="txt">은퇴가능시기</span>
							</a>
						</div>
					</div>

					<div class="flowArea">
						<div class="sliderBox">
							<p class="sliderTit">저축금액을 변경해보세요</p>
							<dl class="sliderInfo">
								<dt>변경 후 저축금액</dt>
								<dd><input type="text" id="currentAmount" value="300,000" />원</dd>
							</dl>
							<div class="sliderBar">
								<div class="limit">
									<p class="limitCurrent" style="left:30%;"><span class="blind">현재 저축금액</span></p>
									<p class="limitGoal" style="left:44%;"><span class="blind">목표 저축금액</span></p>
								</div>
								<div class="barParent" style="left:30%;">
									<div id="slider1" class="bar">
										<div id="sliderHandle" class="ui-slider-handle">
											<p class="sliderValueTxt"><span id="sliderExtra">+0</span>원</p>
										</div>
									</div>
								</div>
							</div>
							<!-- <p class="sliderValueTxt"><span id="sliderExtra">0</span>원</p> .active 시 활성화(노출) -->
						</div>
					</div>

					<div class="checkArea">
						<h3 class="subTit">저축진단</h3>
						<div class="section typeFullBgGray">
							<h4 class="subTit2">목표준비자금</h4>
							<p class="subDesc">목표 달성을 위해 <em class="em"><span>200,000</span>원</em> 더 저축하실 건가요?</p>
							<dl class="defineList">
								<dt>변경 전</dt>
								<dd><span>200,000</span>원</dd>
								<dt>변경 후</dt>
								<dd class="fcPrimary medium"><span>600,000</span>원</dd>
							</dl>
							<ul class="rangeList">
								<li>
									<div class="itemBox">
										<div class="itemHead">
											<div class="flexItem first">
												<strong class="tit"><span class="flag green">취미</span>히말라야 트래킹</strong>
											</div>
										</div>
										<div class="itemCont">
											<dl class="typeRange">
												<dt class="limit">
													<p class="limitCurrent" style="left:30%;"><span class="blind">현재 저축금액</span></p>
												</dt>
												<dt class="bar">
													<span class="barVal blind" style="width:100%;">저축금액</span> <!-- .barVal에 퍼센테이지로 제어 -->
												</dt>
												<dd>완벽하게 모으고 있어요</dd>
											</dl>
											<dl class="defineList">
												<dt>변경 전</dt>
												<dd><span>200,000</span>원</dd>
												<dt>변경 후</dt>
												<dd class="fcPrimary medium"><span>600,000</span>원</dd>
											</dl>
										</div>
									</div>
								</li>
								<li>
									<div class="itemBox">
										<div class="itemHead">
											<div class="flexItem first">
												<strong class="tit"><span class="flag green">쇼핑</span>부모님 아웃도어 선물</strong>
											</div>
										</div>
										<div class="itemCont">
											<dl class="typeRange disabled">
												<dt class="limit">
													<p class="limitCurrent"><span class="blind">현재 저축금액</span></p>
												</dt>
												<dt class="bar">
													<span class="barVal blind">저축금액</span>
												</dt>
												<dd>변액이체로 관리하고 있어요</dd>
											</dl>
											<dl class="defineList">
												<dt>월 저축금액</dt>
												<dd><span>200,000</span>원</dd>
											</dl>
										</div>
									</div>
								</li>
								<li>
									<div class="itemBox">
										<div class="itemHead">
											<div class="flexItem first">
												<strong class="tit"><span class="flag green">주택</span>내집마련</strong>
											</div>
										</div>
										<div class="itemCont">
											<dl class="typeRange">
												<dt class="limit">
													<p class="limitCurrent" style="left:30%;"><span class="blind">현재 저축금액</span></p>
												</dt>
												<dt class="bar">
													<span class="barVal blind lack" style="width:20%;">저축금액</span> <!-- .barVal에 퍼센테이지로 제어 -->
												</dt>
												<dd>저축한도로 더 채울 수 없어요</dd>
											</dl>
											<dl class="defineList">
												<dt>변경 전</dt>
												<dd><span>200,000</span>원</dd>
												<dt>변경 후</dt>
												<dd class="fcPrimary medium"><span>600,000</span>원</dd>
											</dl>
										</div>
									</div>
								</li>
							</ul>
							<a href="#layerPopBottom01" class="btnType btnBlack btnPopOpen"><span>자동이체금액 변경</span></a>
						</div>
						<div class="section">
							<h4 class="subTit2">미래준비자금</h4>
							<p class="subDesc">목표달성하고 <em class="em"><span>100,000</span>원</em> 더?<br /> 어떻게 관리할 거에요?</p>
							<ul class="futureList">
								<li>
									<div class="itemBox">
										<a href="#">
											<div class="itemHead">
												<div class="flexItem">
													<i class="iconTyPlanCategory small" data-code="41">노후자금</i>
													<strong class="tit">든든한 노후자금</strong>
												</div>
												<div class="flexItem">
													<span>
														찬란한 미래<br />
														준비하기
													</span>
												</div>
											</div>
										</a>
									</div>
								</li>
								<li>
									<div class="itemBox">
										<a href="#">
											<div class="itemHead">
												<div class="flexItem">
													<i class="iconTyPlanCategory small" data-code="43">여유자금</i>
													<strong class="tit">다목적 여유자금</strong>
												</div>
												<div class="flexItem">
													<span>
														놀고있는 돈<br />
														불리기
													</span>
												</div>
											</div>
										</a>
									</div>
								</li>
							</ul>
						</div>
					</div>
				</div> <!-- //.savingsSimWrap -->

			</div>
			<!-- // contents -->
		</div>
		<!-- // contentsWrap -->
	</section>
	<!-- // container -->
</div>
<!-- // wrap -->

<!-- 출금계좌 선택 팝업 -->
<div class="layerPopBottomWrap type4 hasDim myAssets" id="layerPopBottom01">
	<div class="popInner">
		<div class="layerHeader">
			<p class="layerTit">꼭 알아야 할 정보</p>
			<button type="button" class="btnPopClose">팝업 닫기</button>
		</div>
		<div class="layerCon hasButton">
			<ul class="dotList">
				<li>
					자동이체 변경 처리 시 펀드계좌에 등록된 기존 자동 이체 정보는 모두 해지되고 등록된 새로운 정보로 변경 처리됩니다. (예: 출금계좌, 자동이체 금액, 자동이체 일자 등)<br />
					※ 실패 거래 시 기존 등록된 자동이체가 해지될 수 있으니 반드시 고객센터로 문의 주시기 바랍니다. 
				</li>
				<li>적금 상품에 따라 최대 납입한도를 초과하는 경우 자동이체가 처리되지 않을 수 있습니다.</li>
			</ul>
		</div>
		<div class="btnGroupBox floating fixed">
			<a href="javascript:void(0);" class="btnType"><span>확인</span></a>
		</div>
	</div>
</div>
<!-- //출금계좌 선택 팝업 -->

<script type="text/javascript">
	// 영역 슬라이더
	function ranges() {
		var rangeMin = 300000;			// 저축 최소금액 (진입 시 0원)
		var rangeMax = 1000000;			// 저축 최대금액
		var goalValue = 500000;			// 목표 저축금액
		var rangeValue = rangeMin;		// 현재 저축금액 (진입 시 "저축최소금액"과 동일)
		var rangeStep = 10000;			// 저축금액 스탭 (현재 만원 단위로 이동)

		// 최소값, 목표값 세팅
		var setValue = function(min, max, goal) {
			// min : 저축 최소금액
			// max : 저축 최대금액
			// goal : 저축 목표금액
			if (min > max || goal > max) {
				console.error('ERROR : Please reset values.');
				return;
			}
			var minVal = parseInt((min / max) * 100);
			var goalVal = parseInt((goal / max) * 100);
			$('.limitGoal').css('left', goalVal + '%');
			$('.barParent').css('padding-left', minVal + '%');
		};

		// 1. Selector
		// #slider1 : 슬라이더 호출 개체
		// #sliderHandle : 슬라이더 핸들러(드래그)
		// #sliderExtra : 추가로 저축할 금액(현재와 목표의 차액)
		// #currentAmount : 슬라이더 현재 선택 값

		$('#slider1').slider({
			create: function(){
				// 최초 생성시
				setValue(rangeMin, rangeMax, goalValue);

				var $target = $('.barParent, .ui-slider-range-min');
				$target.css('background', rangeValue >= goalValue ? '#2ec1ac' : '#ff9f5f');
			},
			slide: function( event, ui ) {
				// 핸들러 drag시 (슬라이더값 변경시)
				var differ = ui.value - rangeValue;
				$('#sliderExtra').text( differ === 0 ? differ : '+' + differ );

				var $target = $('.barParent, .ui-slider-range-min');
				$target.css('background', ui.value >= goalValue ? '#2ec1ac' : '#ff9f5f');
			},
			stop: function( evnet, ui ) {
				// 핸들러 keyup시
				$('#currentAmount').val( ui.value );
				previousValue = ui.value;
			},
			min: rangeMin,		// 슬라이더 최소값
			max: rangeMax,		// 슬라이더 최대값
			step : rangeStep,	// 슬라이더 스탭
			value: rangeValue,	// 슬라이더 초기값
			range: 'min',		// 디자인을 위한 dom 추가 옵션 (슬라이더 게이지 영역)
		});

		var previousValue;
		$('#currentAmount').on('focus active', function(e) {
			previousValue = e.target.value;
		});


		$('#currentAmount').on('change', function(e) {
			var changeValue = e.target.value;
			if (changeValue >= rangeMin && changeValue <= rangeMax) {
				$('#slider1').slider('value', changeValue); // 슬라이더 값 변경
			} else {
				alert(rangeMin + ' ~ ' + rangeMax + ' 사이');
				$('#slider1').slider('value', previousValue);
				$('#currentAmount').val( previousValue ).focus();
			}
		});
	}

	// 스크롤 시 상단 고정
	function fixedTop() {
		if ($('.flowArea').length === 0) return; // "저축금액변경" 영역 삭제하려면 .flowArea 를 날림

		var targetOffsetTop = $('.sliderInfo').offset().top - 24; // "24" : 타겟의 상단여백 미세조정 (스타일 여백 변경시 같이 수정)
		var headerHeight = $('#headerWrap').length !== 0 ? $('#headerWrap').height() : 0; // header 감지

		$('.contents').off().on('scroll mousewheel', function() {
			var padd = parseInt( $('.contents').css('padding-top') ); // .contents 강제로 패딩 삽입된 값 감지
			var scrollTop = $(this).scrollTop();
			var breakPoint = targetOffsetTop - headerHeight + padd;

			if (scrollTop >= breakPoint ) {
				$('.sliderBox').addClass('hasFixedTop');
				$('.sliderBox').css('top', headerHeight - 1);
			} else {
				$('.sliderBox').removeClass('hasFixedTop');
				$('.sliderBox').css('top', 0);
			}
		});
	}

	$(function() {
		$(window).load(function() {
			ranges();
			fixedTop();
		});
	});
</script>
</body>
</html>
