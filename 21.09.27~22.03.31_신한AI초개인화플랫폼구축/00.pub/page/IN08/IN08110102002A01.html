
<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<meta name="format-detection" content="telephone=no">
	<title>신한은행</title>
	<link rel="stylesheet" type="text/css" href="../../../../../../style/shinhan.css">
	<link rel="stylesheet" type="text/css" href="../../../../../../style/my_assets.css">
	<script src="../../../../../../script/include/library/jquery-1.12.4.min.js"></script>
	<script src="../../../../../../script/include/library/ui.js"></script>
	<script src="../../../../../../script/include/library/ui_myassets.js"></script> <!-- MY자산 고도화 ui 스크립트 추가 -->
</head>
<body>
<!-- wrap -->
<div id="wrap">
	<!-- container -->
	<section id="container">
		<!-- header -->
		<header id="headerWrap">
			<div id="header">
				<div class="lSec">
					<a href="javascript:void(0);" class="btnBefore"><span class="iconTy01">이전</span></a>
				</div>
				<h1 class="tit">저축 시뮬레이션</h1>
				<div class="rSec">
					<a href="javascript:void(0);" class="btnHome"><span class="iconTyHome">홈으로</span></a>
					<a href="javascript:void(0);" class="btnTotal"><span class="iconTy02">전체메뉴</span></a>
				</div>
			</div>
		</header>
		<!-- // header -->
		
		<!-- contentsWrap -->
		<div id="contentsWrap" class="myAssets"> <!-- .myAssets -->
			<div class="savingsSimWrap topfix"></div><!-- //2021-08-18 추가 -->
			<!-- contents -->
			<div class="contents">
				<div class="savingsSimWrap">
					<div class="chartArea">
						<h2 class="mainTit">저축금액 <a href="javascript:;" class="fcMint number bold"><em class="countUp">450000</em>원</a> 으로<br/>예측한 자산흐름이에요</h2><!-- 2021-08-18 수정 -->
						<div style="padding:12px 14px 0"><a href="javascript:void(0);" class="txtBlack5 underline">현재 자동이체 금액 215,100원</a></div><!-- 2021-09-29 수정 : 추가 -->
						<div class="graphBox">
							<div style="padding:91px 10px; background:rgba(0,0,0,0.5); text-align:center;">그래프</div>
							<span class="unitAxisY" style="position:absolute; left:0; bottom:0;"><i>4,000</i></span>
							<span class="unitAxisX" style="position:absolute; left:50px; bottom:0;">2026년</span>
						</div>
						<div class="graphLegend">
							<a href="javascript:void(0);" class="btnLink">
								<em class="point"><span class="blind">그래프 노란색 점:</span></em>
								<span class="txt">은퇴가능시기</span>
							</a>
						</div>
					</div>
					<!-- 2021-08-18 수정 -->
					<div class="flowArea type2">
						<div class="sliderBox">
							<p class="sliderTit mb0">목표 달성을 위해 <strong class="fcMint">200,000원</strong> 더 필요해요</p>
							<p class="referTxt">저축에 필요한 금액을 시뮬레이션 해보세요!</p>
							<div class="sliderBar">
								<div class="limit">
									<p class="limitCurrent" style="left:30%;"><span class="blind">현재 저축금액</span></p>
									<p class="limitGoal" style="left:44%;"><span class="blind">목표 저축금액</span></p>
								</div>
								<div class="barParent" style="left:30%;">
									<div id="slider1" class="bar">
										<div id="sliderHandle" class="ui-slider-handle">
											<p class="sliderValueTxt"><span id="sliderExtra">+0</span>원</p>
										</div>
									</div>
								</div>
							</div>
							<div class="udNumer">
								<a href="javascript:;" class="minus">마이너스</a>
								<span><em id="sliderExtra2">0</em>원</span>
								<a href="javascript:;" class="plus">플러스</a>
							</div>
						</div>
					</div>
					<!-- //2021-08-18 수정 -->
					<div class="checkArea type2"><!-- //2021-08-18 클래스수정 -->
						<div class="section typeFullBgGray">
							<div class="inner">
								<h4 class="subTit2 ml0">자동이체 금액을 확인하세요</h4>
								<dl class="defineList">
									<dt>변경 전</dt>
									<dd><span>200,000</span>원</dd>
									<dt>변경 후</dt>
									<dd class="fcPrimary medium"><span>600,000</span>원</dd>
								</dl>
							</div>
							<ul class="rangeList">
								<li>
									<div class="itemBox">
										<div class="itemHead">
											<div class="flexItem first">
												<strong class="tit"><span class="flag green">취미</span>히말라야 트래킹</strong>
											</div>
										</div>
										<div class="itemCont">
											<dl class="typeRange">
												<dt class="limit">
													<p class="limitCurrent" style="left:50%;"><span class="blind">현재 저축금액</span></p>
												</dt>
												<dt class="bar">
													<span class="barVal blind lack" style="width:35%;">저축금액</span> <!-- .barVal에 퍼센테이지로 제어 -->
												</dt>
												<dd>아직 조금 부족해요 <em class="rate">달성률 35%</em></dd><!-- //2021-08-18 수정 -->
											</dl>
											<!-- 2021-08-18 수정 -->
											<dl class="defineList">
												<dt>현재 자동이체 금액</dt>
												<dd><span>200,000</span>원</dd>
											</dl>
											<!-- //2021-08-18 수정 -->
										</div>
									</div>
								</li>
								<li>
									<div class="itemBox">
										<div class="itemHead">
											<div class="flexItem first">
												<strong class="tit"><span class="flag green">쇼핑</span>부모님 아웃도어 선물</strong>
											</div>
										</div>
										<div class="itemCont">
											<dl class="typeRange disabled">
												<dt class="limit">
													<p class="limitCurrent"><span class="blind">현재 저축금액</span></p>
												</dt>
												<dt class="bar">
													<span class="barVal blind">저축금액</span>
												</dt>
												<dd>아직 조금 부족해요 <em class="rate">달성률 35%</em></dd><!-- //2021-08-18 수정 -->
											</dl>
											<!-- 2021-08-18 수정 -->
											<dl class="defineList">
												<dt>현재 자동이체 금액</dt>
												<dd><span>200,000</span>원</dd>
												<dt>변경 자동이체 금액</dt>
												<dd class="fcPrimary medium"><span>600,000</span>원</dd>
											</dl>
											<!-- //2021-08-18 수정 -->
										</div>
									</div>
								</li>
								<li>
									<div class="itemBox">
										<div class="itemHead">
											<div class="flexItem first">
												<strong class="tit"><span class="flag green">주택</span>내집마련</strong>
											</div>
										</div>
										<div class="itemCont">
											<dl class="typeRange">
												<dt class="limit">
													<p class="limitCurrent" style="left:50%;"><span class="blind">현재 저축금액</span></p>
												</dt>
												<dt class="bar">
													<span class="barVal blind" style="width:100%;">저축금액</span> <!-- .barVal에 퍼센테이지로 제어 -->
												</dt>
												<dd>완벽하게 모으고 있어요 <em class="rate">달성률 100%</em></dd><!-- //2021-08-18 수정 -->
											</dl>
											<!-- 2021-08-18 수정 -->
											<dl class="defineList">
												<dt>현재 자동이체 금액</dt>
												<dd><span>200,000</span>원</dd>
											</dl>
											<!-- //2021-08-18 수정 -->
										</div>
									</div>
								</li>
							</ul>
							<p class="ac mt40"><a href="javascript:;" class="inlineBlock underLine">목표 미등록 자산 등록하기</a></p><!-- //2021-08-18 추가 -->
							<a href="#layerPopBottom01" class="btnType btnBlack btnPopOpen"><span>자동이체금액 변경</span></a>
						</div>
						<div class="section">
							<h4 class="subTit2">미래준비자금</h4>
							<p class="subDesc">목표달성하고 <em class="em"><span>100,000</span>원</em> 더?<br /> 어떻게 관리할 거에요?</p>
							<ul class="futureList">
								<li>
									<div class="itemBox">
										<a href="#">
											<div class="itemHead">
												<div class="flexItem">
													<i class="iconTyPlanCategory small" data-code="41">노후자금</i>
													<strong class="tit">든든한 노후자금</strong>
												</div>
												<div class="flexItem">
													<span>
														찬란한 미래<br />
														준비하기
													</span>
												</div>
											</div>
										</a>
									</div>
								</li>
								<li>
									<div class="itemBox">
										<a href="#">
											<div class="itemHead">
												<div class="flexItem">
													<i class="iconTyPlanCategory small" data-code="43">여유자금</i>
													<strong class="tit">다목적 여유자금</strong>
												</div>
												<div class="flexItem">
													<span>
														놀고있는 돈<br />
														불리기
													</span>
												</div>
											</div>
										</a>
									</div>
								</li>
							</ul>
						</div>
					</div>
				</div> <!-- //.savingsSimWrap -->

			</div>
			<!-- // contents -->
			<!-- 2021-08-18 추가 -->
			<div class="btnGroupBox floating fixed">
				<a href="javascript:void(0)" class="btnType"><span>자동이체 금액 변경하기</span></a>
			</div>
			<!-- //2021-08-18 추가 -->
		</div>
		<!-- // contentsWrap -->
	</section>
	<!-- // container -->
</div>
<!-- // wrap -->

<!-- 출금계좌 선택 팝업 -->
<div class="layerPopBottomWrap type4 hasDim myAssets" id="layerPopBottom01">
	<div class="popInner">
		<div class="layerHeader">
			<p class="layerTit">꼭 알아야 할 정보</p>
			<button type="button" class="btnPopClose">팝업 닫기</button>
		</div>
		<div class="layerCon hasButton">
			<ul class="dotList">
				<li>
					자동이체 변경 처리 시 펀드계좌에 등록된 기존 자동 이체 정보는 모두 해지되고 등록된 새로운 정보로 변경 처리됩니다. (예: 출금계좌, 자동이체 금액, 자동이체 일자 등)<br />
					※ 실패 거래 시 기존 등록된 자동이체가 해지될 수 있으니 반드시 고객센터로 문의 주시기 바랍니다. 
				</li>
				<li>적금 상품에 따라 최대 납입한도를 초과하는 경우 자동이체가 처리되지 않을 수 있습니다.</li>
			</ul>
		</div>
		<div class="btnGroupBox floating fixed">
			<a href="javascript:void(0);" class="btnType"><span>확인</span></a>
		</div>
	</div>
</div>
<!-- //출금계좌 선택 팝업 -->

<script type="text/javascript">
	// 영역 슬라이더
	function ranges() {
		var rangeMin = 300000;			// 저축 최소금액 (진입 시 0원)
		var rangeMax = 1000000;			// 저축 최대금액
		var goalValue = 500000;			// 목표 저축금액
		var rangeValue = rangeMin;		// 현재 저축금액 (진입 시 "저축최소금액"과 동일)
		var rangeStep = 10000;			// 저축금액 스탭 (현재 만원 단위로 이동)

		// 최소값, 목표값 세팅
		var setValue = function(min, max, goal) {
			// min : 저축 최소금액
			// max : 저축 최대금액
			// goal : 저축 목표금액
			if (min > max || goal > max) {
				console.error('ERROR : Please reset values.');
				return;
			}
			var minVal = parseInt((min / max) * 100);
			var goalVal = parseInt((goal / max) * 100);
			$('.limitGoal').css('left', goalVal + '%');
			$('.barParent').css('padding-left', minVal + '%');
		};

		// 1. Selector
		// #slider1 : 슬라이더 호출 개체
		// #sliderHandle : 슬라이더 핸들러(드래그)
		// #sliderExtra : 추가로 저축할 금액(현재와 목표의 차액)
		// #currentAmount : 슬라이더 현재 선택 값
		
		$('#slider1').slider({
			create: function(){
				// 최초 생성시
				setValue(rangeMin, rangeMax, goalValue);

				var $target = $('.barParent, .ui-slider-range-min');
				$target.css('background', rangeValue >= goalValue ? '#2ec1ac' : '#ff9f5f');
			},
			slide: function( event, ui ) {
				// 핸들러 drag시 (슬라이더값 변경시)
				var differ = ui.value - rangeValue;
				$('#sliderExtra, #sliderExtra2').text( differ === 0 ? differ : '+' + differ );

				var $target = $('.barParent, .ui-slider-range-min');
				$target.css('background', ui.value >= goalValue ? '#2ec1ac' : '#ff9f5f');
			},
			stop: function( evnet, ui ) {
				// 핸들러 keyup시
				$('#currentAmount').val( ui.value );
				previousValue = ui.value;
			},
			min: rangeMin,		// 슬라이더 최소값
			max: rangeMax,		// 슬라이더 최대값
			step : rangeStep,	// 슬라이더 스탭
			value: rangeValue,	// 슬라이더 초기값
			range: 'min',		// 디자인을 위한 dom 추가 옵션 (슬라이더 게이지 영역)
		});

		$(".udNumer a").on("click",function(){
			var nReal = $('#slider1').slider("value");
			if($(this).hasClass("minus")){
				changeValue = nReal - 10000;
			}else{
				changeValue = nReal + 10000;
			}
			$('#slider1').slider('value', changeValue);
			$('#sliderExtra, #sliderExtra2').text("+" + (changeValue - rangeValue));
		});

		var previousValue;
		$('#currentAmount').on('focus active', function(e) {
			previousValue = e.target.value;
		});


		$('#currentAmount').on('change', function(e) {
			var changeValue = e.target.value;
			if (changeValue >= rangeMin && changeValue <= rangeMax) {
				$('#slider1').slider('value', changeValue); // 슬라이더 값 변경
			} else {
				alert(rangeMin + ' ~ ' + rangeMax + ' 사이');
				$('#slider1').slider('value', previousValue);
				$('#currentAmount').val( previousValue ).focus();
			}
		});
	}

	// 스크롤 시 상단 고정 2021-08-18 수정
	function fixedTop() {
		$(".contents").on("scroll",function(){
			var flowTop = $(".flowArea").offset().top;
			var bgGray = $(".typeFullBgGray").offset().top;
			if(flowTop < 60){
				if(!$(".flowArea").hasClass("on")){
					$(".flowArea").addClass("on");
					$(".flowArea.on").prependTo($(".savingsSimWrap.topfix"));
					$("#contentsWrap.myAssets").addClass("flow");
				}
			}
			if(bgGray > 220){
				if($(".flowArea").hasClass("on")){
					$(".flowArea").removeClass("on");
					$(".chartArea").after($(".flowArea"));
					$("#contentsWrap.myAssets").removeClass("flow");
				}
			}
		});
	}
	//2021-08-18 추가
	function countUp(){
		$('.number').each(function(){
			var aa = 0;
			var test =$('.countUp').text();
			
			$('.countUp').animate({
				aa : test
			},{
				duration:2000,
				step:function(a){
					//console.log(a)
					var test = ''+ Math.floor(a)
					var i;
					var cnt = 0;
					var result = '';
					for(i = test.length -1; i>=0; i--, cnt++){
						if (cnt > 0 && (cnt % 3) == 0){
							result = ',' + result;
						}
						result = test.substring(i, i + 1) + result;
					}
					
					$(this).empty().text(result)
				}
			});
		});
	}
	$(function() {
		$(window).load(function() {
			ranges();
			fixedTop();
			countUp();
		});
	});
</script>
</body>
</html>
